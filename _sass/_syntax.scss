/* ==========================================================================
   Syntax highlighting
   ========================================================================== */

div.highlighter-rouge, figure.highlight {
  position: relative;
  margin-bottom: 1em;
  padding: 1em;
  border: 1px solid $nord2; // Updated border
  border-radius: $border-radius;
  background-color: $code-background-color; // This is $nord1
  box-shadow: 0 2px 4px rgba($nord0, 0.1); // Updated box-shadow

  &:before {
    position: absolute;
    top: 0;
    right: 0;
    padding: 0.25em 0.75em; // Adjusted padding
    background-color: $nord3; // Updated background
    color: $nord0; // Updated text color
    // content: attr(data-lang); // Assuming data-lang attribute provides the language
    font-family: $monospace; // Use monospace font
    font-size: $type-size-7; // Adjusted font size
    line-height: 1.5; // Adjusted line-height
    text-transform: uppercase; // Added text-transform
    speak: none;
    // font-family: "fontawesome" !important; // Removed FontAwesome
    // content: "\f121"; // Removed FontAwesome icon
  }

  .highlight {
    margin: 0;
    font-family: $monospace;
    font-size: $type-size-7;
    line-height: 1.8;
  }
}

.highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }


/*
   Nord Syntax Highlighting
   ========================================================================== */

.highlight .c, .highlight .cm, .highlight .c1, .highlight .cs { color: $nord8; font-style: italic; } /* Comment - Changed from $nord3 for contrast */
.highlight .k, .highlight .kc, .highlight .kd, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kt { color: $nord13; font-weight: bold; } /* Keyword - Changed from $nord9 for contrast */
.highlight .s, .highlight .s1, .highlight .s2, .highlight .sd, .highlight .sh, .highlight .si, .highlight .sx, .highlight .sr { color: $nord14; } /* String */
.highlight .se { color: $nord13; } /* String.Escape */
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .mo, .highlight .il { color: $nord15; } /* Literal.Number */
.highlight .o, .highlight .ow { color: $nord8; font-weight: bold; } /* Operator */
.highlight .n, .highlight .nx, .highlight .py { color: $nord4; } /* Name, Name.Other, Name.Property */
.highlight .na { color: $nord7; } /* Name.Attribute */
.highlight .nb { color: $nord8; } /* Name.Builtin */
.highlight .nc { color: $nord7; font-weight: bold; } /* Name.Class */
.highlight .no { color: $nord7; } /* Name.Constant */
.highlight .nd { color: $nord8; font-style: italic; } /* Name.Decorator */
.highlight .ni, .highlight .ne { color: $nord7; font-weight: bold; } /* Name.Entity, Name.Exception */
.highlight .nf, .highlight .nl { color: $nord8; font-weight: bold; } /* Name.Function, Name.Label */
.highlight .nn { color: $nord7; } /* Name.Namespace */
.highlight .nt { color: $nord13; font-weight: bold; } /* Name.Tag - Also changed to $nord13 like keywords */
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi { color: $nord7; } /* Name.Variable */
.highlight .err, .highlight .gr { color: $nord11; background-color: rgba($nord11, 0.1); font-weight: bold; } /* Error */
.highlight .g, .highlight .l, .highlight .p, .highlight .w { color: $nord4; } /* Generic, Literal, Punctuation, Text.Whitespace */
.highlight .ge { font-style: italic; color: $nord4; } /* Generic.Emph */
.highlight .gs { font-weight: bold; color: $nord4; } /* Generic.Strong */
.highlight .gd { color: $nord11; } /* Generic.Deleted */
.highlight .gi { color: $nord14; } /* Generic.Inserted */
.highlight .gh, .highlight .gu { color: $nord8; font-weight: bold; } /* Generic.Heading, Generic.Subheading */
.highlight .go { color: $nord2; } /* Generic.Output */
.highlight .gp { color: $nord10; font-weight: bold; } /* Generic.Prompt */
.highlight .gt { color: $nord11; } /* Generic.Traceback */
.highlight .cp { color: $nord10; font-style: italic; } /* Comment.Preproc */
.highlight .bp { color: $nord8; font-style: italic; } /* Name.Builtin.Pseudo */
.highlight .ld { color: $nord14; } /* Literal.Date */

// /* Common tokens not explicitly covered by Nord spec, but mapped from Solarized for completeness */
// .highlight .x { color: $nord8; } /* Other - Mapped to Frost for general "other" code constructs */
// .highlight .sb { color: $nord14; } /* Literal.String.Backtick - Mapped to String */
// .highlight .sc { color: $nord14; } /* Literal.String.Char - Mapped to String */
// .highlight .ss { color: $nord14; } /* Literal.String.Symbol - Mapped to String */